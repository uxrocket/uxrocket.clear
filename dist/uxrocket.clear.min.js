/*! UX Rocket Clear 
 *  jQuery based clear input/textarea action handler 
 *  @author Bilal Cinarli <bcinarli@gmail.com> (http://bcinarli.com/) 
 *  @version 1.0.0 
 *  @build 2017-00-02 
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(e){"use strict";var t,s=1,a="uxrClear",n={icon:"icon-cross",clearAlso:null,onReady:!1,onClear:!1,onUpdate:!1,onRemove:!1},i={click:"click."+a,focus:"focus."+a,input:"input."+a,keyup:"keyup."+a,paste:"paste."+a},o={prefix:"uxr-",rocket:"uxRocket",data:a,name:"clear",wrap:"uxr-plugin-wrap",classes:{wrap:"wrap",ready:"ready",icon:"icon",visible:"icon-visible"}},l=function(t,i,o){var l=e(t);this._instance=s,this._name=a,this._defaults=n,this.el=t,this.$el=l,this.selector=o,this.options=e.extend(!0,{},n,i,l.data()),s++,this.init()};e.extend(l.prototype,{init:function(){var e=this.$el.data(o.rocket)||{};this.$el.addClass(r.getClassname("ready")),e[o.data]={hasWrapper:!0,wrapper:o.wrap,ready:r.getClassname("ready"),selector:this.selector,options:this.options},this.$el.data(o.rocket,e),this.setLayout(),this.$el.val().length>0&&this.$el.parent().addClass(r.getClassname("visible")),r.callback(this.options.onReady),this.bindUIActions()},handleClasses:function(){this.classList=this.$el.context.className.replace(r.getClassname("ready"),""),"."===this.selector.charAt(0)&&(this.classList=this.classList.replace(this.selector.substr(1),"")),this.classList+=o.wrap+" "+r.getClassname("wrap")+" "+r.getClassname("wrap")+"-"+this._instance,this.classList=e.trim(this.classList)},removeClasses:function(){this.$el.removeClass(r.getClassname("ready")),this.$el.parent().removeClass(this.classList.replace(o.wrap,""))},handleWrapper:function(){this.$el.parent().is("."+o.wrap)?this.$el.parent().addClass(this.classList):this.$el.wrap('<span class="'+this.classList+'"></span>')},addIcon:function(){this.$el.after('<i class="'+r.getClassname("icon")+'"></i>'),this.$icon=this.$el.next("."+r.getClassname("icon"))},setLayout:function(){this.handleClasses(),this.handleWrapper(),this.addIcon()},removeLayout:function(){var e=this,t=e.$el.data(o.rocket);Object.keys&&1===Object.keys(t).length?e.$el.unwrap():e.$el.parent().removeClass(o.wrap),e.$el.next("."+r.getClassname("icon")).remove()},bindUIActions:function(){var t=this,s=!1;t.$el.on(i.keyup+" "+i.focus+" "+i.input,function(){t.onKeyup()}),t.$el.siblings("."+r.getClassname("icon")).on(i.click,function(e){t.onClick(e)}),t.$el.on(i.paste,function(){s=!0}),e("body").on("DOMNodeRemoved",function(e){e.target!==t.el||s?s=!1:t.cleanUp()})},unbindUIActions:function(){this.$el.off("."+a)},onKeyup:function(){var e=this;this.$el.val().length>0?e.$el.parent().addClass(r.getClassname("visible")):e.$el.parent().removeClass(r.getClassname("visible"))},onClick:function(e){e.preventDefault(),this.$el.val("").parent().removeClass(r.getClassname("visible")),r.callback(this.options.onClear)},update:function(e){return t.update(this.el,e)},destroy:function(){return t.destroy(this.el)},cleanUp:function(){e("."+r.getClassname("wrap")+"-"+this._instance).remove()}});var r={callback:function(e){if("function"==typeof e)e.apply(this);else if(e!==!1){for(var t=/([a-zA-Z._$0-9]+)(\(?(.*)?\))?/.exec(e),s=t[1].split("."),a=t[3]?t[3]:"",n=s.pop(),i=s[0]?window[s[0]]:window,o=1;o<s.length;o++)i=i[s[o]];return i[n](a)}},getStringVariable:function(e){var t;if(e.indexOf(".")>-1){for(var s=e.split("."),a=window[s[0]],n=1;n<s.length;n++)a=a[s[n]];t=a}else t=window[e];return t},getClassname:function(e){return o.prefix+o.name+"-"+o.classes[e]}};t=e.fn.clear=e.fn.uxrclear=e.uxrclear=function(t){var s=this.selector;return this.each(function(){e.data(this,o.data)||e.data(this,o.data,new l(this,t,s))})},t.update=function(t,s){var a,n;"undefined"==typeof s&&"object"==typeof t?(a=e("."+r.getClassname("ready")),n=t):(a=e(t),n=s),a.filter("input").each(function(){var t=e(this),s=t.data(o.data),a=s.options;s.options=e.extend(!0,{},a,n),r.callback(a.onUpdate)})},t.destroy=function(t){var s=e(void 0!==t?t:"."+r.getClassname("ready"));s.filter("input").each(function(){var t=e(this),s=t.data(o.data),a=t.data(o.rocket);s.removeClasses(),s.unbindUIActions(),s.removeLayout(),t.removeData(o.data),delete a[o.data],t.data(o.rocket,a),r.callback(s.options.onRemove)})},t.version="1.0.0",t.settings=n,t.namespace=o});
//# sourceMappingURL=uxrocket.clear.min.js.map
