{"version":3,"sources":["uxrocket.clear.js"],"names":["factory","define","amd","exports","require","jQuery","$","ux","i","rocketName","defaults","icon","clearAlso","onReady","onClear","onUpdate","onRemove","events","click","focus","input","keyup","ns","prefix","rocket","data","name","wrap","classes","ready","Clear","el","options","selector","$el","this","_instance","_name","_defaults","extend","init","prototype","uxrocket","addClass","utils","getClassname","hasWrapper","wrapper","setLayout","callback","bindUIActions","handleClasses","classList","context","className","replace","charAt","substr","trim","removeClasses","removeClass","parent","handleWrapper","is","addIcon","after","$icon","next","removeLayout","_this","Object","keys","length","unwrap","remove","on","e","unbindUIActions","off","onKeyup","update","destroy","fn","apply","func","getStringVariable","str","val","indexOf","chain","split","chainVal","window","which","clear","uxrclear","each","undefined","filter","_uxrocket","removeData","version","settings","namespace"],"mappings":"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","file":"uxrocket.clear.min.js","sourcesContent":["/**\n * UX Rocket\n * jQuery based clear input/textarea action handler\n * @author Bilal Cinarli\n */\n\n(function(factory) {\n    'use strict';\n    if(typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if(typeof exports === 'object' && typeof require === 'function') {\n        // Browserify\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function($) {\n    'use strict';\n\n    var ux, // local shorthand\n        i = 1,\n        rocketName = 'uxrClear',\n\n        defaults = {\n            icon     : 'icon-cross',\n            clearAlso: null,\n\n            // callbacks\n            onReady : false,\n            onClear : false,\n            onUpdate: false,\n            onRemove: false\n        },\n        events = {\n            click: 'click.' + rocketName,\n            focus: 'focus.' + rocketName,\n            input: 'input.' + rocketName,\n            keyup: 'keyup.' + rocketName\n        },\n        ns = {\n            prefix : 'uxr-',\n            rocket : 'uxRocket',\n            data   : rocketName,\n            name   : 'clear',\n            wrap   : 'uxr-plugin-wrap',\n            classes: {\n                wrap     : 'wrap',\n                ready    : 'ready',\n                icon  : 'icon'\n            }\n        };\n\n    // Constructor Method\n    var Clear = function(el, options, selector) {\n        var $el = $(el);\n\n        this._instance = i;\n        this._name = rocketName;\n        this._defaults = defaults;\n\n        this.el = el;\n        this.$el = $el;\n\n        this.selector = selector;\n        this.options = $.extend(true, {}, defaults, options, $el.data());\n\n        i++;\n\n        this.init();\n    };\n\n    $.extend(Clear.prototype, {\n        init         : function() {\n            var uxrocket = this.$el.data(ns.rocket) || {};\n\n            // add ready class\n            this.$el.addClass(utils.getClassname('ready'));\n\n            // register plugin data to rocket\n            uxrocket[ns.data] = {hasWrapper: true, wrapper: ns.wrap, ready: utils.getClassname('ready'), selector: this.selector, options: this.options};\n            this.$el.data(ns.rocket, uxrocket);\n\n\n            // set plugin layout\n            this.setLayout();\n\n            utils.callback(this.options.onReady);\n\n            this.bindUIActions();\n        },\n        handleClasses: function() {\n            this.classList = this.$el.context.className.replace(utils.getClassname('ready'), '');\n\n            if(this.selector.charAt(0) === '.') {\n                this.classList = this.classList.replace(this.selector.substr(1), '');\n            }\n\n            this.classList += ns.wrap + ' ' + utils.getClassname('wrap');\n            this.classList = $.trim(this.classList);\n        },\n\n        removeClasses: function() {\n            this.$el.removeClass(utils.getClassname('ready'));\n            this.$el.parent().removeClass(this.classList.replace(ns.wrap, ''));\n        },\n\n        handleWrapper: function() {\n            this.$el.parent().is('.' + ns.wrap) ?\n            this.$el.parent().addClass(this.classList) :\n            this.$el.wrap('<span class=\"' + this.classList + '\"></span>');\n        },\n\n        addIcon: function() {\n            this.$el.after('<i class=\"' + utils.getClassname('icon') + '\"></i>');\n            this.$icon = this.$el.next('.' + utils.getClassname('icon'));\n        },\n\n        setLayout: function() {\n            this.handleClasses();\n            this.handleWrapper();\n            this.addIcon();\n        },\n\n        removeLayout: function() {\n            var _this = this,\n                uxrocket = _this.$el.data(ns.rocket);\n\n            // remove or reformat wrap\n            if(Object.keys && Object.keys(uxrocket).length === 1) {\n                _this.$el.unwrap();\n            }\n\n            else {\n                _this.$el.parent().removeClass(ns.wrap);\n            }\n\n            _this.$el.next('.' + utils.getClassname('magnify')).remove();\n        },\n\n\n        bindUIActions: function() {\n            var _this = this;\n\n            _this.$el.on(events.keyup, function(e) {\n\n            });\n        },\n\n        unbindUIActions: function() {\n            this.$el.off('.' + rocketName);\n        },\n\n        onKeyup: function(e) {\n\n        },\n\n        update: function() {\n            return ux.update(this.el);\n        },\n\n        destroy: function() {\n            return ux.destroy(this.el);\n        }\n    });\n\n    var utils = {\n        callback: function(fn) {\n            // if callback string is function call it directly\n            if(typeof fn === 'function') {\n                fn.apply(this);\n            }\n\n            // if callback defined via data-attribute, call it via new Function\n            else {\n                if(fn !== false) {\n                    var func = function() {\n                        return fn;\n                    };\n                    func();\n                }\n            }\n        },\n\n        getStringVariable: function(str) {\n            var val;\n            // check if it is chained\n            if(str.indexOf('.') > -1) {\n                var chain = str.split('.'),\n                    chainVal = window[chain[0]];\n\n                for(var i = 1; i < chain.length; i++) {\n                    chainVal = chainVal[chain[i]];\n                }\n\n                val = chainVal;\n            }\n\n            else {\n                val = window[str];\n            }\n\n            return val;\n        },\n\n        getClassname: function(which) {\n            return ns.prefix + ns.name + '-' + ns.classes[which];\n        }\n    };\n\n\n    ux = $.fn.clear = $.fn.uxrclear = $.uxrclear = function(options) {\n        var selector = this.selector;\n\n        return this.each(function() {\n            if($.data(this, ns.data)) {\n                return;\n            }\n\n            // Bind the plugin and attach the instance to data\n            $.data(this, ns.data, new Clear(this, options, selector));\n        });\n    };\n\n    ux.update = function(el) {\n\n    };\n\n    ux.destroy = function(el) {\n        var $el = el !== undefined ? $(el) : $('.' + utils.getClassname('ready'));\n\n        $el.filter('input').each(function() {\n            var _this = $(this),\n                _instance = _this.data(ns.data),\n                _uxrocket = _this.data(ns.rocket);\n\n            // remove ready class\n            _instance.removeClasses();\n\n            // remove plugin events\n            _instance.unbindUIActions();\n\n            // remove layout\n            _instance.removeLayout();\n\n            // remove plugin data\n            _this.removeData(ns.data);\n\n            // remove uxRocket registry\n            delete _uxrocket[ns.data];\n            _this.data(ns.rocket, _uxrocket);\n\n            utils.callback(_instance.options.onRemove);\n        });\n    };\n\n// version\n    ux.version = '1.0.0';\n\n// default settings\n    ux.settings = defaults;\n    ux.namespace = ns;\n}));"],"sourceRoot":"/source/"}